<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta name="google-adsense-account" content="ca-pub-3717622242490727">

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PMQ66W46');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SNCR3GRYFQ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-SNCR3GRYFQ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="images/icon.ico" />
    <link rel="stylesheet" href="assets/css/style.css">
    <title>やさしいひとこと</title>
    <link href="https://fonts.googleapis.com/css2?family=Yomogi&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=LXGW+Marker+Gothic&family=Yomogi&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&display=swap" rel="stylesheet">
    
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PMQ66W46"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
     
    <h1 class="title">ことばのしおり</h1>
    <div class="container">
      <div id="quoteBox" class="quote">今日のひとことを読み込んでいます...</div>
      <div class="buttons">
        <button class="button-1 button-text"  onclick="showQuote('癒し')">癒されたい</button>
        <button class="button-2 button-text"  onclick="showQuote('元気')">元気を出そう</button>
        <button class="button-3 button-text" onclick="showQuote()">そのままでいいよ</button>
      </div>
    </div> 
    <footer>
      <div class="ad-template-link">
        <p>🧁 作品紹介リンク</p>
        <div>
          <a href="https://codeachsh.github.io/All-template-Japanese-/" target="_blank">
            📦 便利なテンプレート一覧はこちら！
          </a>
        </div>
        <div>
          <a href="https://note.com/chill_2525" target="_blank" class="note-link">
            ✨ブログやテンプレート、成長の記録をまとめて公開中 → note.com/chill_2525
          </a>
        </div>
      </div>
        <!-- 🧃 広告ブロック -->
      <div class="ad-area">
        <p>スポンサーリンク</p>
        <!-- <img src="images/sample-ad.jpg" alt="広告" width="100%" style="max-width:320px; margin: 0 auto; display:block;"> -->
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3717622242490727"
              crossorigin="anonymous"></script>
          <!-- GentleQuote -->
          <ins class="adsbygoogle"
              style="display:block"
              data-ad-client="ca-pub-3717622242490727"
              data-ad-slot="1341219367"
              data-ad-format="auto"
              data-full-width-responsive="true"></ins>
          <script>
              (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
      </div>

    </footer>

      <script>
        let allQuotes = [];

        // CSVの読み込み
        fetch('quotes.csv')
          .then(response => response.text())
          .then(csv => {
            const results = Papa.parse(csv, { header: true });
            allQuotes = results.data;
            showQuote(); // 初期表示
          });

        // フレーズの表示処理（背景画像なし）
        function showQuote(selectedTag = null) {
          if (allQuotes.length === 0) return;

          // タグによるフィルタリング
          const filtered = selectedTag
            ? allQuotes.filter(q => q.tag && q.tag.trim() === selectedTag)
            : allQuotes;

          if (filtered.length === 0) return;

          // ランダムにひとことを選択
          const chosen = filtered[Math.floor(Math.random() * filtered.length)];

          // テキスト表示
          document.getElementById("quoteBox").textContent = chosen.text;

          // 🎨 背景色のみ設定（画像は使わない）
          document.body.style.backgroundImage = "none";
          document.body.style.backgroundColor = chosen.color?.trim() || "#fef6f0";

          // ログで確認（任意）
          console.log("表示中:", chosen.text);
          console.log("背景色:", chosen.color);
        }
      </script>
  </body>
</html>
